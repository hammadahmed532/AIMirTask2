@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Heatmap View";
}

<div class="container-fluid px-4 py-3">
    <!-- Page Title -->
    <h2 class="mb-4 fw-bold">Heatmap View</h2>

    <!-- Filters -->
    <div class="card p-3 mb-4">
        <div class="row g-3 align-items-end">
            <div class="col-md">
                <label class="form-label small text-muted mb-1">Location</label>
                <select class="form-select form-select-sm">
                    <option>All Locations</option>
                </select>
            </div>
            <div class="col-md">
                <label class="form-label small text-muted mb-1">Department</label>
                <select class="form-select form-select-sm">
                    <option>All Departments</option>
                </select>
            </div>
            <div class="col-md">
                <label class="form-label small text-muted mb-1">Gender</label>
                <select class="form-select form-select-sm">
                    <option>All Genders</option>
                </select>
            </div>
            <div class="col-md">
                <label class="form-label small text-muted mb-1">Tenure</label>
                <select class="form-select form-select-sm">
                    <option>All Tenures</option>
                </select>
            </div>
            <div class="col-md">
                <label class="form-label small text-muted mb-1">Age</label>
                <select class="form-select form-select-sm">
                    <option>All Ages</option>
                </select>
            </div>
            <div class="col-md-auto d-flex gap-2">
                <button class="btn btn-primary px-4" style="background-color: #7c3aed; border-color: #7c3aed;">Apply Filters</button>
                <button class="btn btn-outline-secondary">
                    <i class="bi bi-download"></i> Export
                </button>
            </div>
        </div>
    </div>

    <div class="row g-4">
        <!-- Main Heatmap -->
        <div class="col-lg-8">
            <div class="card p-4">
                <h6 class="fw-semibold mb-2">Engagement Driver Correlations</h6>
                <p class="small text-muted mb-4">Visualizing the strength and direction of relationships between engagement drivers and outcome drivers.</p>
                
                <div class="table-responsive">
                    <table class="table table-bordered heatmap-table">
                        <thead>
                            <tr>
                                <th class="text-start">Engagement Drivers</th>
                                <th class="text-center">Discretionary Effort</th>
                                <th class="text-center">Intent to Stay</th>
                                <th class="text-center">Advocacy</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="fw-semibold">Leadership</td>
                                <td class="text-center correlation-cell strong-positive">0.86</td>
                                <td class="text-center correlation-cell moderate-positive">0.71</td>
                                <td class="text-center correlation-cell moderate-positive">0.68</td>
                            </tr>
                            <tr>
                                <td class="fw-semibold">Teamwork</td>
                                <td class="text-center correlation-cell moderate-negative">-0.48</td>
                                <td class="text-center correlation-cell strong-positive">0.65</td>
                                <td class="text-center correlation-cell weak-positive">0.35</td>
                            </tr>
                            <tr>
                                <td class="fw-semibold">Meaningfulness</td>
                                <td class="text-center correlation-cell strong-positive">0.75</td>
                                <td class="text-center correlation-cell moderate-positive">0.60</td>
                                <td class="text-center correlation-cell moderate-positive">0.60</td>
                            </tr>
                            <tr>
                                <td class="fw-semibold">Work-Life Balance</td>
                                <td class="text-center correlation-cell strong-negative">-0.90</td>
                                <td class="text-center correlation-cell strong-positive">0.85</td>
                                <td class="text-center correlation-cell moderate-positive">0.55</td>
                            </tr>
                            <tr>
                                <td class="fw-semibold">Recognition</td>
                                <td class="text-center correlation-cell strong-positive">0.68</td>
                                <td class="text-center correlation-cell moderate-positive">0.58</td>
                                <td class="text-center correlation-cell moderate-positive">0.62</td>
                            </tr>
                            <tr>
                                <td class="fw-semibold">Sense of Contribution</td>
                                <td class="text-center correlation-cell moderate-positive">0.55</td>
                                <td class="text-center correlation-cell weak-positive">0.42</td>
                                <td class="text-center correlation-cell moderate-positive">0.58</td>
                            </tr>
                            <tr>
                                <td class="fw-semibold">Trust</td>
                                <td class="text-center correlation-cell moderate-positive">0.62</td>
                                <td class="text-center correlation-cell strong-negative">-1.00</td>
                                <td class="text-center correlation-cell moderate-positive">0.65</td>
                            </tr>
                            <tr>
                                <td class="fw-semibold">Role Clarity</td>
                                <td class="text-center correlation-cell moderate-positive">0.58</td>
                                <td class="text-center correlation-cell strong-positive">0.84</td>
                                <td class="text-center correlation-cell moderate-positive">0.59</td>
                            </tr>
                            <tr>
                                <td class="fw-semibold">Sense of Belonging</td>
                                <td class="text-center correlation-cell moderate-positive">0.64</td>
                                <td class="text-center correlation-cell moderate-positive">0.72</td>
                                <td class="text-center correlation-cell strong-positive">0.95</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Correlation Strength Legend -->
                <div class="mt-4">
                    <h6 class="small fw-semibold mb-2">Correlation Strength Legend</h6>
                    <div class="d-flex flex-wrap gap-3">
                        <div class="d-flex align-items-center gap-2">
                            <div class="legend-box strong-positive"></div>
                            <span class="small">Strong Positive</span>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <div class="legend-box moderate-positive"></div>
                            <span class="small">Moderate Positive</span>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <div class="legend-box weak-positive"></div>
                            <span class="small">Weak Positive</span>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <div class="legend-box neutral"></div>
                            <span class="small">Neutral</span>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <div class="legend-box weak-negative"></div>
                            <span class="small">Weak Negative</span>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <div class="legend-box moderate-negative"></div>
                            <span class="small">Moderate Negative</span>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <div class="legend-box strong-negative"></div>
                            <span class="small">Strong Negative</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Top Correlated Drivers Sidebar -->
        <div class="col-lg-4">
            <div class="card p-4">
                <h6 class="fw-semibold mb-4">Top Correlated Drivers</h6>
                
                <div class="mb-4">
                    <h6 class="small fw-semibold mb-2">Discretionary Effort</h6>
                    <p class="small text-muted mb-3">Drivers with the strongest impact.</p>
                    <ul class="list-unstyled">
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Leadership</span>
                            <span class="badge bg-primary">+0.82</span>
                        </li>
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Purpose & Meaning</span>
                            <span class="badge bg-primary">+0.75</span>
                        </li>
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Recognition</span>
                            <span class="badge bg-primary">+0.68</span>
                        </li>
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Growth Opportunities</span>
                            <span class="badge bg-primary">+0.62</span>
                        </li>
                    </ul>
                </div>

                <div class="mb-4">
                    <h6 class="small fw-semibold mb-2">Intent to Stay</h6>
                    <p class="small text-muted mb-3">Drivers with the strongest impact.</p>
                    <ul class="list-unstyled">
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Work-Life Balance</span>
                            <span class="badge bg-primary">+0.85</span>
                        </li>
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Feedback & Development</span>
                            <span class="badge bg-primary">+0.79</span>
                        </li>
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Leadership</span>
                            <span class="badge bg-primary">+0.71</span>
                        </li>
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Teamwork</span>
                            <span class="badge bg-primary">+0.65</span>
                        </li>
                    </ul>
                </div>

                <div>
                    <h6 class="small fw-semibold mb-2">Advocacy</h6>
                    <p class="small text-muted mb-3">Drivers with the strongest impact.</p>
                    <ul class="list-unstyled">
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Communication</span>
                            <span class="badge bg-primary">+0.73</span>
                        </li>
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Innovation</span>
                            <span class="badge bg-primary">+0.69</span>
                        </li>
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Purpose & Meaning</span>
                            <span class="badge bg-primary">+0.60</span>
                        </li>
                        <li class="mb-2 d-flex justify-content-between align-items-center">
                            <span class="small">Work-Life Balance</span>
                            <span class="badge bg-primary">+0.55</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
 
